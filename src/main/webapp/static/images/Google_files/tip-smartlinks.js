if(AdaptiveBlue&&typeof (AdaptiveBlue.BlueLinkPane)=="undefined"){AdaptiveBlue.BlueLinkPane=new function(){var N="http://glueimg.s3.amazonaws.com/widgets/";var B="getglue.com";var V="4.5.15.2";var O="http://"+B+"/glue/objectTip/";var T='<a id="bl-newtip-close"> </a><div class="loadingSpinner"> </div><div class="caret left"> </div><a target="_blank" class="widgetPromo" href="http://'+B+'/?s=w"> </a>';var m="http://glueimg.s3.amazonaws.com/widgets/img/smartlinkIcon.png";var W="amazon.com, apple.com, aol.com, barnesandnoble.com, bestbuy.com, hulu.com, hypem.com, ilike.com, getglue.com, goodreads.com, google.com, ign.com, imdb.com, indiebound.org, ilike.com, lala.com, fandango.com, last.fm, moviefone.com, myspace.com, netflix.com, randomhouse.com, rhapsody.com, rottentomatoes.com, wikipedia.org";var l=[];l["amazon.com"]=[["asin","http://(www.|)amazon.com.*((/product/)|(%2Fproduct%2F)|(/dp/)|(%2Fdp%2F)|(/ASIN/)|(%2FASIN%2F)|(/asin/)|(%2Fasin%2F)|(tg/detail/)|(tg%2Fdetail%2F)|(/exec/obidos/)|(%2Fexec%2Fobidos%2F)).*","!(\\+similar$)","!(/tg/)","!(registry|search-handle-url|path=tg/|path=tg%2F|customer-reviews|external-search|wishlist)"],["topic","http://(www\\.)?amazon\\.com/.+/e/.+","!(/tg/)"]];l["aol.com"]=[["album","http://music\\.aol\\.com/album/.+"],["artist","http://music\\.aol\\.com/artist/.+"]];l["apple.com"]=[["album","http://itunes\\.apple\\.com/us/album/.+"],["artist","http://itunes\\.apple\\.com/us/artist/.+"]];l["borders.com"]=["book","http://(www\\.)?borders\\.com/online/store/TitleDetail\\?.*sku=\\d+"];l["barnesandnoble.com"]=["book","http://search.barnesandnoble.com/(.*/e/\\d+|booksearch/isbn)"];l["bestbuy.com"]=[["gadget","http://(www\\.)?bestbuy\\.com/site/olspage.jsp?","type=product","id=\\d+"],["gadget","http://(www\\.)?bestbuy\\.com/site/.+?","skuId=.+"]];l["fandango.com"]=[["movie","http://(www\\.)?fandango\\.com/.+/movieoverview"],["star","http://(www\\.)?fandango\\.com/.+/filmography"]];l["hulu.com"]=["show","http://(www\\.)?hulu\\.com/.+","!(/(collections|profile|browse|spotlight/))"];l["hypem.com"]=["artist","http://(www\\.)?hypem\\.com/artist/.+"];l["ilike.com"]=[["artist","http://(www\\.)?ilike\\.com/artist/.+"],["album","http://(www\\.)?ilike\\.com/artist/.+/album/.+"]];l["getglue.com"]=[["book","http://((www|dev|qa)\\.)?getglue.com/books/.+"],["gadget","http://((www|dev|qa)\\.)?getglue.com/electronics/.+"],["movie","http://((www|dev|qa)\\.)?getglue.com/movies/.+"],["star","http://((www|dev|qa)\\.)?getglue.com/movie_stars/.+"],["album","http://((www|dev|qa)\\.)?getglue.com/music/.+"],["artist","http://((www|dev|qa)\\.)?getglue.com/recording_artists/.+"],["show","http://((www|dev|qa)\\.)?getglue.com/tv_shows/.+"],["topic","http://((www|dev|qa)\\.)?getglue.com/topics/.+"],["restaurant","http://((www|dev|qa)\\.)?getglue.com/restaurants/.+"],["game","http://((www|dev|qa)\\.)?getglue.com/video_games/.+"],["wine","http://((www|dev|qa)\\.)?getglue.com/wines/.+"]];l["goodreads.com"]=["book","http://(www\\.)?goodreads\\.com/book/show/\\d*\\..*"];l["google.com"]=["movie","http://(www\\.)?google\\.com/movies\\?.+","mid=.+","!(ct=reviews)","!(cd=2)","!(date=)","!(view=map)","!(#.+)","!(near=)"];l["ign.com"]=["game","http://.*\\.ign\\.com/objects/\\d+/.+"];l["ilike.com"]=[["album","http://(www\\.)?ilike\\.com/artist/.*/album"],["artist","http://(www\\.)?ilike\\.com/artist/.*"]];l["imdb.com"]=[["movie","http://(www.|us.|uk.|)imdb.com/title/","!(/(quotes|board|combined|releaseinfo|fullcredits|externalreviews|filmokey|faq|awards|episodes|plotsummary|trivia|movieconnections))"],["star","http://(www.|us.|uk.|)imdb.com/name/","!(/(mediaindex|board|filmovote|news|awards|faq|trivia|movieconnections))"]];l["indiebound.org"]=["book","http://www\\.indiebound\\.org/book/\\d+"];l["lala.com"]=[["album","http://www\\.lala\\.com/#?album/.+"],["artist","http://www\\.lala\\.com/#?artist/.+"],["album","http://www\\.lala\\.com/landing\\?album=.+"],["artist","http://www\\.lala\\.com/landing\\?artist=.+"]];l["last.fm"]=[["album","http://(www.|)last.fm/music/.+/.+","!(/_/)","!(\\+similar$)","!(/\\+charts)","!(/\\+tags)","!(/\\+videos)","!(/images/)","!(wiki)"],["artist","http://(www.|)last.fm/music/.+/?","!(/_/)","!(\\+similar$)","!(/\\+charts)","!(/\\+tags)","!(/\\+videos)","!(/images/)","!(wiki)"]];l["moviefone.com"]=[["movie","http://(www\\.|)moviefone\\.com/movie/.+"],["star","http://(www\\.|)moviefone\\.com/celebrity/.+"]];l["myspace.com"]=["album","http://music\\.myspace\\.com/index\\.cfm\\?","albumid=\\d+","fuseaction=music\\.artistalbums"];l["netflix.com"]=[["movie","http://www.netflix.com/Movie/"],["star","http://(www\\.)?netflix\\.com/RoleDisplay/.+/\\d+"]];l["randomhouse.com"]=["book","http://www.randomhouse.com/catalog/display.pperl\\?isbn=","!(&view=)","!(feedback.php)"];l["rhapsody.com"]=[["album","http://www.rhapsody.com/.+/.+","!(.com/yahoo/\\?)","!(/goto\\?)","!(linux_uptodate)"],["artist","http://www.rhapsody.com/.+/?","!(.com/yahoo/\\?)","!(/goto\\?)","!(linux_uptodate)"]];l["rottentomatoes.com"]=[["movie","http://(www\\.)?rottentomatoes\\.com/m/.+","!(/news/)","!(reviews_mycritics.php)"],["star","http://(www\\.)?rottentomatoes\\.com/celebrity/.+","!(/news/)","!(reviews_mycritics.php)"]];l["wikipedia.org"]=["topic","http://(en)?\\.wikipedia\\.org/wiki/.*","!(#.+)","!(search=)","!(/wiki/(Wikipedia|Template|Category|File|Special):)","!(/wiki/List_of)"];var k={"google.com":["/movies"],"google.ca":["/movies"],"google.co.uk":["/movies"],"randomhouse.com":["ref=rec"]};var h=["google.com","google.ca","google.co.uk","bing.com","yahoo.com"];var b={"google.com":"body","google.ca":"body","google.co.uk":"body","twitter.com":"#timeline","facebook.com":"#content"};var U="adaptiveglue";var j="R_ed9d4b37f94fef2c35a22e38e8630fd2";var K={"twitter.com":true,"facebook.com":true};var g;var R;var G;var S=48;var I;var t=0;var J={};var Q={};this.init=function(v){f(v);C(v);d(v);a(v)};function d(w){var v=p(w.URL,true);if(b[v]){ab_jQuery(b[v],w).each(function(){var x=this;this.addEventListener("DOMNodeInserted",function(y){if(!y.target||y.target.nodeName=="IMG"||y.target.nodeName=="#text"||y.target.nodeName=="#comment"||(y.target.getAttribute&&y.target.getAttribute("id")=="sl-loaded")||(y.target.parentNode&&y.target.parentNode.getAttribute&&y.target.parentNode.getAttribute("id")=="rtr")||(y.target.parentNode&&y.target.parentNode.parentNode&&y.target.parentNode.parentNode.parentNode&&((y.target.className&&y.target.className.indexOf("gac_")!=-1)||(y.target.parentNode.className&&y.target.parentNode.className.indexOf("gac_")!=-1)||(y.target.parentNode.parentNode.className&&y.target.parentNode.parentNode.className.indexOf("gac_")!=-1)||(y.target.parentNode.parentNode.parentNode.className&&y.target.parentNode.parentNode.parentNode.className.indexOf("gac_")!=-1)))){return }clearTimeout(I);I=setTimeout(function(){J={};n(x)},500)},false)})}}function f(w){if(e(w,"bluelink-window.css")==null){var v=w.createElement("link");v.setAttribute("href",N+"css/bluelink-window.css?v="+V);v.setAttribute("rel","stylesheet");v.setAttribute("type","text/css");v.setAttribute("id","bluelink-window.css");r(w,"head").appendChild(v)}}function C(x){if(e(x,"bl-newtip")==null){var w=x.createElement("div");w.setAttribute("id","bl-newtip");w.setAttribute("class","adb_smartlinks_reset newTip");var v=ab_jQuery(T,x);ab_jQuery(w).hide().hover(function(y){clearTimeout(AdaptiveBlue.BlueLinkPane.hideTipTimer)},function(y){if(!ab_jQuery(this).hasClass("pinned")){AdaptiveBlue.BlueLinkPane.setTipCloseTimeout(y)}}).append(v);r(x,"body").appendChild(w);g=ab_jQuery(w);R=ab_jQuery("div.caret",w);ab_jQuery("#bl-newtip-close",g).click(function(y){AdaptiveBlue.BlueLinkPane.toggleTooltip(y,false)})}}function a(v){if(e(v,"sl-loaded")==null){var w=v.createElement("div");w.setAttribute("id","sl-loaded");r(v,"body").appendChild(w)}}function r(w,v){return w.getElementsByTagName(v).length==0?w.documentElement:w.getElementsByTagName(v).item(0)}function n(AD,AB){var z=AD.getElementsByTagName("a");var AO=AD.ownerDocument?AD.ownerDocument:AD;var AN=q(AO);var x=E(AN,"smartLinkDomains",W);var w=E(AN,"auto",AB);if(w=="no"){w=false}var AM=E(AN,"blueImageLauncher",false);var AP=p(AO.URL,true);for(var AK=0;AK<z.length;AK++){var AL=z[AK].getAttribute("href",2);var v=false;if(k[AP]&&AL){var AF=k[AP];for(var AJ=0;AJ<AF.length&&!v;AJ++){if(AL.match(AF[AJ])){v=true;if(AL.indexOf("/")==0){AL="http://"+p(AO.URL)+AL;z[AK].setAttribute("href",AL)}}}}var AE=p(AL,true);if(z[AK].getAttribute("bluelink")!=null||(AL&&J[AL])){continue}if(AL&&AL.indexOf("glue://")==0){var AC=ab_jQuery(z[AK]);if(AC.attr("href").indexOf("glue://this")==0){var AH=AC.attr("href").substring(11);if(AH==""){AH="/actions"}var AA=AO.URL;AC.attr("href","glue://url/"+encodeURIComponent(AA)+AH);AC.attr("link",AA);AC.attr("action",AH);AC.click(function(AQ){clearTimeout(AdaptiveBlue.BlueLinkPane.hideTipTimer);AdaptiveBlue.BlueLinkPane.toggleTooltip(AQ,true);return false})}}else{if(z[AK].getAttribute("href",2)&&z[AK].getAttribute("href",2).indexOf("bit.ly")!=-1){var AG=z[AK].getAttribute("href",2).split("bit.ly/")[1];if(!Q[AG]){Q[AG]=z[AK]}}else{if((AE&&(v||(AP.indexOf(AE)==-1&&AE.indexOf(AP)==-1)))&&z[AK].getAttribute("smartLink")!="no"){A(AO,z[AK],AL,AN,x,w,AM,AB)}}}}if(K[AP]){var AI=function(AT){if(AT.statusCode=="OK"){for(var AR in AT.results){var AS=Q[AR];if(typeof (AS)!="string"){var AQ=AT.results[AR].longUrl;Q[AR]=AQ;var AU=p(AQ,true);if((AU&&AP.indexOf(AU)==-1&&AU.indexOf(AP)==-1)&&AS.getAttribute("smartLink")!="no"){A(AO,AS,AQ,AN,x,w,AM,AB)}}}}};for(var y in Q){ab_jQuery.getJSON("http://api.bit.ly/expand?version=2.0.1&hash="+y+"&login="+U+"&apiKey="+j+"&callback=?",AI)}}}function A(AJ,w,v,AB,z,AG,x,AE){D(w);var AI=w.getAttribute("smartLink")?w.getAttribute("smartLink"):w.getAttribute("smartlink");var AH=w.getAttribute("blueType")?w.getAttribute("blueType"):s(AI?AI:v,z);if(w.getAttribute("blueKey")||AI||(AH&&(AG&&F(v)&&(x||!H(w))))){var AD=w.getAttribute("blueKey")?w.getAttribute("blueKey"):"";var AC=w.getAttribute("blueImage")?w.getAttribute("blueImage"):L(AH,w,false);var y=w.getAttribute("blueImageOver")?w.getAttribute("blueImageOver"):AC;w.setAttribute("blueKey",AD);w.setAttribute("bluelink","yes");var AA=AJ.createElement("img");AA.className=w.getAttribute("blueImage")?"blue-img-launcher":"blue-icon-launcher blue-icon-12";AA.setAttribute("id","smartLink"+ ++t);AA.setAttribute("align","baseline");AA.setAttribute("src",AC);if(v&&v.indexOf("amazon.com")!=-1){AA.setAttribute("blueAmazonId",M(w))}AA.setAttribute("blueImage",AC);AA.setAttribute("blueImageOver",w.getAttribute("blueImage")?y:L(AH,w,true));AA.setAttribute("blueKey",AD);AA.setAttribute("blueType",AH);AA.setAttribute("publisherId",E(AB,"publisherId","SmartLinks"));var AF=v?v:"";var AK=AF.indexOf("#");if(AK>=0){AF=AF.substr(0,AK)}AA.setAttribute("link",AF);AA.setAttribute("smartLink",AI);if(E(AB,"onClick","false")=="true"){AA.onclick=function(AL){clearTimeout(AdaptiveBlue.BlueLinkPane.hideTipTimer);AdaptiveBlue.BlueLinkPane.toggleTooltip(AL,true,null,null,true)}}else{AA.onmouseover=function(AL){AdaptiveBlue.BlueLinkPane.displayImage(AL,this.getAttribute("blueImageOver"));clearTimeout(AdaptiveBlue.BlueLinkPane.hideTipTimer);AdaptiveBlue.BlueLinkPane.toggleTooltip(AL,true)};AA.onmouseout=function(AL){AdaptiveBlue.BlueLinkPane.displayImage(AL,this.getAttribute("blueImage"));AdaptiveBlue.BlueLinkPane.setTipCloseTimeout(AL)};AA.onclick=function(AL){AdaptiveBlue.BlueLinkPane.showSmartLinkPane(AL,AE)}}w.parentNode.insertBefore(AA,w);J[AF]=true}}function D(v){if(v.getAttribute("type")=="amzn"&&v.getAttribute("asin")){v.setAttribute("smartLink","http://www.amazon.com/dp/"+v.getAttribute("asin"))}}this.setTipCloseTimeout=function(v){try{var x=function(){AdaptiveBlue.BlueLinkPane.toggleTooltip(v,false)};clearTimeout(AdaptiveBlue.BlueLinkPane.hideTipTimer);AdaptiveBlue.BlueLinkPane.hideTipTimer=setTimeout(x,500)}catch(w){}};function i(AE){var AB=AE.offset();var AH=0,z=0,AG=o();var AI=!isNaN(AE.attr("top"))?parseInt(AE.attr("top")):0;var y=!isNaN(AE.attr("left"))?parseInt(AE.attr("left")):0;var w=[AI,AB.top,-AG.height/2,AE.height()/2];var AA=[y,AB.left,AE.width(),parseInt(AE.css("padding-left")),parseInt(AE.css("margin-left"))];for(var AD=0;AD<w.length;AD++){if(w[AD]&&!isNaN(w[AD])){AH+=w[AD]}}for(AD=0;AD<AA.length;AD++){if(AA[AD]&&!isNaN(AA[AD])){z+=AA[AD]}}var AF=AE.attr("popDir")=="left"||z+AG.width>ab_jQuery(document).width();if(AF){z=0;AA=[-y,AB.left,parseInt(AE.css("padding-left")),parseInt(AE.css("margin-left")),-AG.width];for(AD=0;AD<AA.length;AD++){if(AA[AD]&&!isNaN(AA[AD])){z+=AA[AD]}}}var v=ab_jQuery(window).height()+ab_jQuery(window).scrollTop();var AC=AG.height/2-S/2;if(AH<ab_jQuery(window).scrollTop()){var x=ab_jQuery(window).scrollTop()-AH;AH+=x;AC-=(x<AG.height/2-35?x:AG.height/2-35)}else{if(AH+AG.height>v){var x=AH+AG.height-v;AH-=x;AC+=(x<AG.height/2-35?x:AG.height/2-35)}}if(AF){R.removeClass("left");R.addClass("right")}else{R.removeClass("right");R.addClass("left")}g.css({left:z+"px",top:AH+"px"});R.css("top",AC)}function o(){return{width:380,height:454}}this.toggleTooltip=function(AH,AB,w,AK,v){var AM=c(AH);var z=ab_jQuery(AM);AM=w&&e(AM.ownerDocument,w)?e(AM.ownerDocument,w):AM;var AE=AM.getAttribute("smartLink");var AA=(AE!=null&&AE.match("(http|www).*"))?AE:AM.getAttribute("link");if(!AA&&AM.nodeName=="IMG"){AM=AM.parentNode;AE=AM.getAttribute("smartLink");AA=(AE!=null&&AE.match("(http|www).*"))?AE:AM.getAttribute("link")}if(!AH){AH=window.event}var AN=AM.ownerDocument;if(AB){if(v){g.addClass("pinned")}else{g.removeClass("pinned")}if(w){z.attr("left",15)}i(z);var AL=q(AN);var AF=E(AL,"preview","yes");var AJ=AM.getAttribute("publisherId");var AD=AM.getAttribute("overrides");var AG=X(p(document.URL,true))?AA:document.URL;var y=O+encodeURIComponent(encodeURIComponent(AA))+"?type=widget&publisherId="+(AJ&&AJ!=""?encodeURIComponent(AJ):"SmartLinks")+"&preview="+AF+"&source="+encodeURIComponent(AG);if(AD&&AD!=""){y+="&overrides="+AD}y=u(y,AL);var x=ab_jQuery("#bl-newtip iframe");var AC=false;for(var AI=0;AI<x.length;AI++){if(ab_jQuery(x[AI]).data("url")==y){AC=ab_jQuery(x[AI]);g.removeClass("loading");break}}if(!AC){AC=ab_jQuery('<iframe allowtransparency="true" frameborder="0"></iframe>').appendTo("#bl-newtip");AC.load(function(){g.removeClass("loading");ab_jQuery(this).removeClass("loading")});AC.addClass("loading");g.addClass("loading");Y(AC[0],y)}else{if(AC.attr("class")=="loading"){g.addClass("loading")}}x.not(AC).hide();AC.show();clearTimeout(G);G=setTimeout(function(){if(ab_jQuery.browser.msie){g.show()}else{g.fadeIn("fast")}},v?0:1000)}else{clearTimeout(G);ab_jQuery("#bl-newtip iframe").hide();if(ab_jQuery.browser.msie){g.hide()}else{g.fadeOut("fast")}}};var Z=["blueAmazonId","blueBNId","blueBooksenseId","blueCJId","blueEbayPNId","blueGoogleId","blueLinkshareId","bluePowellsId","blueNetflixId"];function u(w,y){for(var x=0;x<Z.length;x++){var v=E(y,Z[x],"");if(Z[x]=="blueCJId"&&v==""){v=E(y,"blueEbayId","")}if(v!=""){w+="&"+Z[x]+"="+encodeURIComponent(v)}}return w}function F(v){return v&&v.indexOf("http://")==0&&!v.match("(\\.jpg|\\.jpeg|\\.png|\\.gif|\\.bmp|\\.mp3|\\.avi|\\.mov|\\.exe|\\.zip|\\.dmg|\\.swf)(\\?.*)?$")}function H(v){return ab_jQuery(v).find("img").size()>0}function M(y){var z="";var v=["tag=","/ref=nosim/",y.getAttribute("asin")+"/"];for(var x=0;x<v.length;x++){var w=y.getAttribute("href",2).split(v[x]);if(w.length==2&&w[1].indexOf("ref=")!=0){z=w[1];break}}return z}function L(v,w,x){return"http://glueimg.s3.amazonaws.com/widgets/img/smartlinkIcon"+(x?"_over":"")+".png"}function s(y,v){var z=p(y,true);var x=null;if(v.indexOf(z)!=-1&&l[z]){var AA=l[z];if(AA.length>0&&AA[0].constructor.toString().indexOf("Array")!=-1){for(var w=0;w<AA.length;w++){if(P(y,AA[w])){x=AA[w][0];break}}}else{if(P(y,AA)){x=AA[0]}}}return x}function P(x,v){var y=true;for(var w=1;w<v.length;w++){y=y&&(v[w].indexOf("!")!=0?x.match(v[w]):!x.match(v[w].substring(1)))}return y}this.displayImage=function(v,w){c(v).src=w};function c(v){if(!v){v=window.event}return v.target?v.target:v.srcElement}this.hasElement=function(v){return e(document,v)!=null};this.showSmartLinkPane=function(AA,w,y,v,AB){var AC=c(AA);AC=y?e(AC.ownerDocument,y):AC;var z=AC.getAttribute("smartLink");var x=AC.getAttribute("publisherId");AdaptiveBlue.BlueLinkPane.showBLWindow(AC.getAttribute("blueKey"),AC.getAttribute("link"),AC.getAttribute("smartLink"),AC.getAttribute("blueSiteId"),w,AC.getAttribute("blueAmazonId"),"&addIcon="+(AC.getAttribute("blueImage")==m)+(v?"&"+v:""),AB,x)};this.showBLWindow=function(w,z,AB,AC,x,AD,AA,v,y){if(AB!=null&&AB.match("(http|www).*")){z=AB}window.open(z,"_blank")};function X(v){return ab_jQuery.inArray(v,h)!=-1}function p(x,v){var z=null;if(x!=null){var AA=x.indexOf("://");AA=(AA==-1)?0:AA+3;var w=x.indexOf("/",AA);if(w==-1){w=x.length}z=x.substring(AA,w);if(v){var y=z.split(".");while(y.length>2){if(y.length==3&&z.indexOf(".co.uk")!=-1){break}z=z.substring(z.indexOf(".")+1);y=z.split(".")}}}return z}function Y(w,v){ab_jQuery(w).data("url",v);if(w){w.contentWindow.location.replace(v)}else{w.src=v}}function E(v,w,x){return v.get(w)!=null?v.get(w):(window[w]!=null?window[w]:x)}function q(AC){var x=new Map();var y=AC.getElementsByTagName("script");if(y!=null){for(var AA=0;AA<y.length;AA++){var v=y[AA].getAttribute("src");if(v!=null&&v.indexOf("bluelink-window.js")!=-1){var AD=v.indexOf("?");if(AD!=-1){var w=v.substring(AD+1).split("&");for(var z=0;z<w.length;z++){var AB=w[z].split("=");x.put(AB[0],AB[1])}}}}}return x}function e(v,w){return v.getElementById(w)}};function isArray(A){return A&&(typeof (A)=="object")&&((A.constructor==Array)||(typeof (A.length)=="number"))}function depsReady(A,B){if(typeof (ab_jQuery)=="undefined"){if(A<=B){setTimeout(function(){depsReady(A+200,B)},200)}}else{AdaptiveBlue.BlueLinkPane.init(document);widgetsReday(0,20000)}}function widgetsReday(A,B){if(AdaptiveBlue.Widget){AdaptiveBlue.Widget.init()}else{if(A<=B){setTimeout(function(){widgetsReday(A+200,B)},200)}}}depsReady(0,10000)};